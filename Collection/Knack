import random
import time
from tkinter import *
import pygame

S = 0
g = 0

global Deck
Deck=['Karo7','Karo8','Karo9','Karo10','KaroB','KaroD','KaroK','KaroA','Herz7','Herz8','Herz9','Herz10','HerzB','HerzD,','HerzK','HerzA','Pik7','Pik8','Pik9','Pik10','PikB','PikD','PikK','PikA','Kreuz7','Kreuz8','Kreuz9','Kreuz10','KreuzB','KreuzD','KreuzK','KreuzA']
global Stappel
Stappel=[]
global Spieler
Spieler = 4
global Spieler1
Spieler1 = []
global Spieler2
Spieler2 = []
global Spieler3
Spieler3 = []
global Spieler4
Spieler4 = []

def mischen():
    for i in range(len(Deck)+100):
        j=random.randrange(len(Deck))
        jtwo = random.randrange(len(Deck))

        tempf = Deck[j]
        tempz = Deck[jtwo]

        Deck[j] = tempz
        Deck[jtwo] = tempf

#beenden
def schließen():
    pygame.quit()
    fenster.destroy()

def legen():
    a = Deck[0]
    Stappel.append(a)
    del Deck[0]
    a = Deck[0]
    Stappel.append(a)
    del Deck[0]
    a = Deck[0]
    Stappel.append(a)
    del Deck[0]
    print(Stappel)

    for b in range(3):
        a = Deck[b]
        Spieler1.append(a)
        del Deck[0]
    for b in range(3):
        a = Deck[b]
        Spieler2.append(a)
        del Deck[0]
    for b in range(3):
        a = Deck[b]
        Spieler3.append(a)
        del Deck[0]
    for b in range(3):
        a = Deck[b]
        Spieler4.append(a)
        del Deck[0]
    print('Spieler 1 =',Spieler1)
    print('Spieler 2 =',Spieler2)
    print('Spieler 3 =',Spieler3)
    print('Spieler 4 =',Spieler4)

def neu():
    a = Stappel[0]
    Deck.append(a)
    del Stappel[0]
    
    a = Stappel[0]
    Deck.append(a)
    del Stappel[0]
    
    a = Stappel[0]
    Deck.append(a)
    del Stappel[0]
    
    for b in range(2):
        a = Spieler1[0]
        Deck.append(a)
        del Spieler1[0]
    for b in range(2):
        a = Spieler2[0]
        Deck.append(a)
        del Spieler2[0]
    for b in range(2):
        a = Spieler3[0]
        Deck.append(a)
        del Spieler3[0]
    for b in range(2):
        a = Spieler4[0]
        Deck.append(a)
        del Spieler4[0]
    print(Deck)

def runde(Spieler):
    weiter=False
    #Spieler1
    print('Spieler 1 ist am Zug.')
    while not weiter:
        print('Spieler1 Karten->',Spieler1)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du aus dem Stappel tauschen?'))
        for c in range(3):
            if str(b)==Stappel[c]:
                Karte1tausch=Stappel[c]
                Variable1=c
                weiter=True

    weiter=False
    
    while not weiter:
        print('Spieler1 Karten->',Spieler1)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du von deinen Karten tauschen?'))
        for c in range(3):
            if str(b)==Spieler1[c]:
                Karte2tausch=Spieler1[c]
                Variable2=c
                weiter=True
    Stappel[Variable1]=Karte2tausch
    Spieler1[Variable2]= Karte1tausch

    weiter=False

    #Spieler2
    print('Spieler 2 ist am Zug.')
    while not weiter:
        print('Spieler2 Karten->',Spieler2)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du aus dem Stappel tauschen?'))
        for c in range(3):
            if str(b)==Stappel[c]:
                Karte1tausch=Stappel[c]
                Variable1=c
                weiter=True

    weiter=False
    
    while not weiter:
        print('Spieler2 Karten->',Spieler2)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du von deinen Karten tauschen?'))
        for c in range(3):
            if str(b)==Spieler2[c]:
                Karte2tausch=Spieler2[c]
                Variable2=c
                weiter=True
    Stappel[Variable1]=Karte2tausch
    Spieler2[Variable2]= Karte1tausch

    weiter=False

    #Spieler3
    print('Spieler 3 ist am Zug.')
    while not weiter:
        print('Spieler3 Karten->',Spieler3)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du aus dem Stappel tauschen?'))
        for c in range(3):
            if str(b)==Stappel[c]:
                Karte1tausch=Stappel[c]
                Variable1=c
                weiter=True

    weiter=False
    
    while not weiter:
        print('Spieler3 Karten->',Spieler3)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du von deinen Karten tauschen?'))
        for c in range(3):
            if str(b)==Spieler3[c]:
                Karte2tausch=Spieler3[c]
                Variable2=c
                weiter=True
    Stappel[Variable1]=Karte2tausch
    Spieler3[Variable2]= Karte1tausch

    weiter=False

    #Spieler4
    print('Spieler 4 ist am Zug.')
    while not weiter:
        print('Spieler4 Karten->',Spieler4)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du aus dem Stappel tauschen?'))
        for c in range(3):
            if str(b)==Stappel[c]:
                Karte1tausch=Stappel[c]
                Variable1=c
                weiter=True

    weiter=False
    
    while not weiter:
        print('Spieler4 Karten->',Spieler4)
        print('Stappel->',Stappel)
        b=str(input('Welche Karte möchtest du von deinen Karten tauschen?'))
        for c in range(3):
            if str(b)==Spieler4[c]:
                Karte2tausch=Spieler4[c]
                Variable2=c
                weiter=True
    Stappel[Variable1]=Karte2tausch
    Spieler4[Variable2]= Karte1tausch

    return Spieler


def spiel():
    mischen()
    legen()
    weiter=False
    while not weiter:
        runde(Spieler)

#Tkinter fenster
fenster=Tk()
fenster.geometry("500x450")
#label Schach
lbl1=Label(fenster,text='Knack')
#label Player
lblp=Label(fenster,text='Am Zug:')
lblp.place(x=10, y=80)
#Button Start
btn_erstellen=Button(fenster,text="Start",command=spiel)
btn_erstellen.place(x=10, y=410)
#Buttonende
btn_ende=Button(fenster,text="Ende",command=schließen)
btn_ende.place(x=90, y=410)
#Buttonneu
btn_ende=Button(fenster,text="Neues Spiel",command=neu)
btn_ende.place(x=170, y=410)
